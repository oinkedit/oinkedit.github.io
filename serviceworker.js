/*eslint-disable*/
const cacheName="oinkedit",cacheFiles=[];function sendMessageTo(e,t){return new Promise(((s,a)=>{const n=new MessageChannel;n.port1.onmessage=e=>{e.data.error?a(e.data.error):s(e.data)},e.postMessage(t,[n.port2])}))}self.addEventListener("install",(()=>{self.skipWaiting()})),self.addEventListener("activate",(e=>{e.waitUntil(clients.claim())})),self.addEventListener("fetch",(e=>{e.respondWith(fetch(e.request).catch((()=>caches.match(e.request))).then((t=>{const s=t.clone();return!s||200!==s.status&&304!==s.status&&"opaque"!==s.type||"POST"===e.request.method||0!=s.url.indexOf("http")||caches.open(cacheName).then((t=>{t.put(e.request,s)})),t})))})),self.addEventListener("message",(e=>{if("clearcache"===e.data)navigator.storage.estimate().then((t=>{caches.has(cacheName).then((s=>{if(s){const s=t.usage;caches.delete(cacheName),sendMessageTo(e.source,`deleted${s}`)}else sendMessageTo(e.source,"deleted0")}))}));else if("function"==typeof e.data){const t=e.data();sendMessageTo(e.source,t)}}));