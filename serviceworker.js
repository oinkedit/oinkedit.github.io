/*eslint-disable*/
const cacheName="oinkedit",cacheFiles=[];function sendMessageTo(e,s){return new Promise(((t,a)=>{const n=new MessageChannel;n.port1.onmessage=e=>{e.data.error?a(e.data.error):t(e.data)},e.postMessage(s,[n.port2])}))}self.addEventListener("install",(()=>{self.skipWaiting()})),self.addEventListener("activate",(e=>{e.waitUntil(clients.claim())})),self.addEventListener("fetch",(e=>{e.respondWith(fetch(e.request).catch((()=>caches.match(e.request))).then((s=>{const t=s.clone();return!t||200!==t.status&&304!==t.status&&"opaque"!==t.type||"POST"===e.request.method||caches.open(cacheName).then((s=>{s.put(e.request,t)})),s})))})),self.addEventListener("message",(e=>{if("clearcache"===e.data)navigator.storage.estimate().then((s=>{caches.has(cacheName).then((t=>{if(t){const t=s.usage;caches.delete(cacheName),sendMessageTo(e.source,`deleted${t}`)}else sendMessageTo(e.source,"deleted0")}))}));else if("function"==typeof e.data){const s=e.data();sendMessageTo(e.source,s)}}));